os:
  - linux
  - osx

language: cpp

matrix:
  include:
    - os: linux
      dist: trusty
      sudo: required
    - os: osx
      osx_image: xcode9.2


#matrix:
  #include:
    #- os: linux
      #dist: trusty
      #addons:
          # apt:
         #   sources:
       #      - ubuntu-toolchain-r-test
           # packages:
           #   - openssl 
           #   - libssl-dev
            #  - g++-7 
       # env:
         # - PYTHON="pip"
          
    #- os: osx
      #      osx_image: xcode9.2

     # env:
       #   - PYTHON="pip2"

#before_install:
  #- $(PYTHON) install --user cpp-coveralls
  #before_install:
  #- brew update
  #- brew install pyenv
  #- eval "$(pyenv init -)"
  #- pyenv install 2.7.6
  #- pyenv global 2.7.6
  #- pyenv rehash
  #- pip install cpp-coveralls
  #- pyenv rehash
          
compiler: 
 # - gcc
  - clang

script:
  #- CXX=/usr/bin/g++-7 CC=/usr/bin/gcc-7 cmake -DCOVERAGE=1 .
  - cmake .
  - cmake --build .
  # run Gtest
  - ./bin/Ark-Cpp-tests
  
after_success:
  - coveralls --root . -E ".*gtest.*" -E ".*CMakeFiles.*"
  
